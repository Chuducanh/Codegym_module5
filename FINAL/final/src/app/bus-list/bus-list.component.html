<h1>Danh sach cac xe dang ky o ben xe XYZ</h1>
<div class="input-group">
  <input type="search" class="form-control border-end-0 border rounded-pill"
         placeholder="Search" aria-label="Username"
         aria-describedby="basic-addon1" [(ngModel)]="value" (keydown.enter)="search(0) ">
  <button class="btn btn-info border-end-0 border rounded-pill" (click)="search(0)">Search</button>
</div>
<button class="btn btn-primary" [routerLink]="['/bus/create']" id="create">Thêm mới</button>
<div>
  <table class="table table-striped table-inverse table-responsive">
    <thead class="thead-inverse">
    <tr>
      <th>So thu tu</th>
      <th>So xe</th>
      <th>Loai xe</th>
      <th>Ten nha xe</th>
      <th>Diem di</th>
      <th>Diem den</th>
      <th>So dien thoai</th>
      <th>Email</th>
      <th>Gio di</th>
      <th>Gio den</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let bus of bus.content, index as i">
      <td>{{indexPagination*2 + (i+1)}}</td>
      <td>{{bus.id}}</td>
      <td>{{bus.type}}</td>
      <td>{{bus.house}}</td>
      <td>{{bus.arrive}}</td>
      <td>{{bus.destination}}</td>
      <td>{{bus.phone}}</td>
      <td>{{bus.email}}</td>
      <td>{{bus.startTime}}</td>
      <td>{{bus.endTime}}</td>
      <td>
        <button class="btn btn-primary" [routerLink]="['/bus/edit',bus.id]" id="edit">Chỉnh sửa</button>
        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#deleteModal"
                (click)="changeId(bus.id)">Xóa
        </button>
      </td>
    </tr>
    </tbody>
  </table>

  <div class="mt-3">
    <nav aria-label="Page navigation example">
      <ul class="pagination d-flex justify-content-md-end justify-content-center">
        <li class="page-item"><a class="page-link" (click)="firstPage()">Đầu</a></li>
        <li class="page-item"><a class="page-link" (click)="previousPage()">Trang trước</a></li>
        <li class="page-item col-md-1 col-2  px-0">
          <div class="input-group">
            <input type="number" min="1" max="bus.totalPages-1"
                   class="form-control text-right rounded-0" [value]="bus.pageable.pageNumber + 1">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1"> /{{bus.totalPages}}</span>
            </div>
          </div>
        </li>
        <li class="page-item"><a class="page-link" (click)="nextPage()">Trang kế</a></li>
        <li class="page-item"><a class="page-link" (click)="lastPage()">Cuối</a></li>
      </ul>
    </nav>
  </div>
</div>


<!-- Delete Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Xóa sản phẩm</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Bạn có muốn xóa thông tin của xe khách với số xe là: {{id}} ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Thoát</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="delete(id)">Xóa</button>
      </div>
    </div>
  </div>
</div>
